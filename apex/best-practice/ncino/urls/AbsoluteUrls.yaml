rules:
  - id: apex.urls.absolute-urls
    severity: WARNING
    languages:
      - apex
    metadata:
      category: best-practice
      subcategory: endpoints
      technology: ncino
    message: >-
      Using absolute URLs to Salesforce Pages is bug prone. Different sandboxes and production
      environments will have different instance names (like "na10", "na15" etc.). Code using
      absolute URLs will only work when it runs in the corresponding salesforce instances. It
      will break as soon as it is deployed in another one. Thus only relative URLs, i.e. without
      the domain and subdomain names, should be used when pointing to a salesforce page.
    patterns:
      - pattern-regex: (http|https)://.*(salesforce|force|visualforce)\.com\.*
    paths:
      exclude:
        - "*Test*"
        - "*test*"
